/*!
 * Copyright (C) 2015 eBay Inc. All Rights Reserved.
 */
var ZoomService = {
    _RE_IMAGE_MD5: /com\/(m\/.*)\//i,
    _fileExtension: (Configs.BROWSER === "cr") ? ".webp" : ".png",
    getZoomImageforItem: function (aId, aDimension) {
        if (BrowserHelper.isRetinaDisplay()) {
            aDimension = aDimension * 2;
        }
        var url = "http://i.ebayimg.com/images/i/" + aId + "-0-1/s-l" + aDimension + this._fileExtension;
        return url;
    },
    getZoomImageforUrl: function (aUrl, aDimension) {
        var matches;
        var url = "";
        if (aUrl && 0 < aUrl.length) {
            url = aUrl;
            if (aUrl.match(this._RE_IMAGE_MD5)) {
                matches = aUrl.match(this._RE_IMAGE_MD5);
                if (BrowserHelper.isRetinaDisplay()) {
                    aDimension = aDimension * 2;
                }
                if (matches && matches.length > 1) {
                    url = "http://i.ebayimg.com/images/" + matches[1] + "/s-l" + aDimension + this._fileExtension;
                }
                else {
                    url = UtilityHelper.getEmptyImage();
                }
            }
        }
        else {
            url = UtilityHelper.getEmptyImage();
        }
        return url;
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiem9vbVNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9iYWNrZ3JvdW5kL2NvcmUvc2VydmljZXMvem9vbVNlcnZpY2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFRSCxJQUFJLFdBQVcsR0FBRztJQUNoQixhQUFhLEVBQUcsaUJBQWlCO0lBRWpDLGNBQWMsRUFBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLEdBQUcsT0FBTyxHQUFHLE1BQU07SUFROUQsbUJBQW1CLEVBQUcsVUFBUyxHQUFHLEVBQUUsVUFBVTtRQUc1QyxFQUFFLENBQUMsQ0FBQyxhQUFhLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLFVBQVUsR0FBRyxVQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQzlCLENBQUM7UUFFRCxJQUFJLEdBQUcsR0FBRyxnQ0FBZ0MsR0FBRyxHQUFHLEdBQUcsVUFBVSxHQUFHLFVBQVUsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO1FBRWpHLE1BQU0sQ0FBQyxHQUFHLENBQUM7SUFDYixDQUFDO0lBUUQsa0JBQWtCLEVBQUcsVUFBUyxJQUFJLEVBQUUsVUFBVTtRQUU1QyxJQUFJLE9BQU8sQ0FBQztRQUNaLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztRQUViLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDNUIsR0FBRyxHQUFHLElBQUksQ0FBQztZQUdYLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDbkMsT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO2dCQUd6QyxFQUFFLENBQUMsQ0FBQyxhQUFhLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUNwQyxVQUFVLEdBQUcsVUFBVSxHQUFHLENBQUMsQ0FBQztnQkFDOUIsQ0FBQztnQkFFRCxFQUFFLENBQUMsQ0FBQyxPQUFPLElBQUksT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNsQyxHQUFHLEdBQUcsOEJBQThCLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sR0FBRyxVQUFVLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztnQkFDaEcsQ0FBQztnQkFBQyxJQUFJLENBQUMsQ0FBQztvQkFDTixHQUFHLEdBQUcsYUFBYSxDQUFDLGFBQWEsRUFBRSxDQUFDO2dCQUN0QyxDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNOLEdBQUcsR0FBRyxhQUFhLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDdEMsQ0FBQztRQUVELE1BQU0sQ0FBQyxHQUFHLENBQUM7SUFDYixDQUFDO0NBQ0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQ29weXJpZ2h0IChDKSAyMDE1IGVCYXkgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICovXG5cbi8qXG4gIHZhciBDb25maWdzID0gcmVxdWlyZShcImNvcmUvY29uZmlncy9pbml0XCIpLkNvbmZpZ3M7XG4gIHZhciBCcm93c2VySGVscGVyID0gcmVxdWlyZShcImNvcmUvaGVscGVycy9icm93c2VySGVscGVyXCIpLkJyb3dzZXJIZWxwZXI7XG4gIHZhciBVdGlsaXR5SGVscGVyID0gcmVxdWlyZShcImhlbHBlcnMvdXRpbGl0eUhlbHBlclwiKS5VdGlsaXR5SGVscGVyO1xuKi9cblxudmFyIFpvb21TZXJ2aWNlID0ge1xuICBfUkVfSU1BR0VfTUQ1IDogL2NvbVxcLyhtXFwvLiopXFwvL2ksXG4gIC8vIFdlIHdpbGwgdXNlIHdlYnAgb25seSBmb3IgQ2hyb21lLlxuICBfZmlsZUV4dGVuc2lvbiA6IChDb25maWdzLkJST1dTRVIgPT09IFwiY3JcIikgPyBcIi53ZWJwXCIgOiBcIi5wbmdcIixcblxuICAvKipcbiAgICogR2V0cyB0aGUgem9vbSBpbWFnZSB1cmwuXG4gICAqIEBwYXJhbSBhSWQgdGhlIHNpdGUgaWQuXG4gICAqIEBwYXJhbSBhRGltZW5zaW9uIHRoZSBkaW1lbnNpb24uXG4gICAqIEByZXR1cm5zIHRoZSB1cmwuXG4gICAqL1xuICBnZXRab29tSW1hZ2Vmb3JJdGVtIDogZnVuY3Rpb24oYUlkLCBhRGltZW5zaW9uKSB7XG4gICAgXG4gICAgLy8gZG91YmxlIGltYWdlIHNpemUgaWYgaXQncyByZXRpbmEuXG4gICAgaWYgKEJyb3dzZXJIZWxwZXIuaXNSZXRpbmFEaXNwbGF5KCkpIHtcbiAgICAgIGFEaW1lbnNpb24gPSBhRGltZW5zaW9uICogMjtcbiAgICB9XG5cbiAgICB2YXIgdXJsID0gXCJodHRwOi8vaS5lYmF5aW1nLmNvbS9pbWFnZXMvaS9cIiArIGFJZCArIFwiLTAtMS9zLWxcIiArIGFEaW1lbnNpb24gKyB0aGlzLl9maWxlRXh0ZW5zaW9uO1xuXG4gICAgcmV0dXJuIHVybDtcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgem9vbSBpbWFnZSB1cmwuXG4gICAqIEBwYXJhbSBhVXJsIHRoZSB1cmwuXG4gICAqIEBwYXJhbSBhRGltZW5zaW9uIHRoZSBkaW1lbnNpb24uXG4gICAqIEByZXR1cm5zIHRoZSB1cmwuXG4gICAqL1xuICBnZXRab29tSW1hZ2Vmb3JVcmwgOiBmdW5jdGlvbihhVXJsLCBhRGltZW5zaW9uKSB7XG4gICAgXG4gICAgdmFyIG1hdGNoZXM7XG4gICAgdmFyIHVybCA9IFwiXCI7XG5cbiAgICBpZiAoYVVybCAmJiAwIDwgYVVybC5sZW5ndGgpIHtcbiAgICAgIHVybCA9IGFVcmw7XG5cbiAgICAgIC8vaXMgaXQgYSBub3RpZmljYXRpb24gcmVsYXRlZCB0byBhbiBpdGVtPy4gSWYgeWVzLCBnZXQgdGhlIGl0ZW0gaW1hZ2UgZnJvbSB0aGUgem9vbSBzZXJ2aWNlXG4gICAgICBpZiAoYVVybC5tYXRjaCh0aGlzLl9SRV9JTUFHRV9NRDUpKSB7XG4gICAgICAgIG1hdGNoZXMgPSBhVXJsLm1hdGNoKHRoaXMuX1JFX0lNQUdFX01ENSk7XG5cbiAgICAgICAgLy8gZG91YmxlIGltYWdlIHNpemUgaWYgaXQncyByZXRpbmEuXG4gICAgICAgIGlmIChCcm93c2VySGVscGVyLmlzUmV0aW5hRGlzcGxheSgpKSB7XG4gICAgICAgICAgYURpbWVuc2lvbiA9IGFEaW1lbnNpb24gKiAyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgdXJsID0gXCJodHRwOi8vaS5lYmF5aW1nLmNvbS9pbWFnZXMvXCIgKyBtYXRjaGVzWzFdICsgXCIvcy1sXCIgKyBhRGltZW5zaW9uICsgdGhpcy5fZmlsZUV4dGVuc2lvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cmwgPSBVdGlsaXR5SGVscGVyLmdldEVtcHR5SW1hZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1cmwgPSBVdGlsaXR5SGVscGVyLmdldEVtcHR5SW1hZ2UoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXJsO1xuICB9XG59O1xuIl19