/*!
 * Copyright (C) 2007-2015 eBay Inc. All Rights Reserved.
 */
var BrowserHelper = {
    _backgroundObject: null,
    getBackgroundPage: function () {
        try {
            return chrome.extension.getBackgroundPage();
        }
        catch (e) {
            try {
                return safari.extension.globalPage.contentWindow;
            }
            catch (e) {
                return null;
            }
        }
    },
    _getMediaCheck: function () {
        var matchMediaChecks = [];
        var checks = {
            "min--moz-device-pixel-ratio": "1.3",
            "-o-min-device-pixel-ratio": "2.6/2",
            "-webkit-min-device-pixel-ratio": "1.3",
            "min-device-pixel-ratio": "1.3",
            "min-resolution": "1.3dppx"
        };
        _.each(checks, function (value, key) {
            var check = "only screen and (" + key + ":" + value + ")";
            matchMediaChecks.push(check);
        });
        return matchMediaChecks.join(", ");
    },
    isRetinaDisplay: function () {
        var isRetina = false;
        if (window.devicePixelRatio > 2) {
            isRetina = true;
        }
        if (window.matchMedia) {
            var mq = window.matchMedia(this._getMediaCheck());
            if (window.devicePixelRation > 1) {
                isRetina = true;
            }
            else if (mq && mq.matches) {
                isRetina = true;
            }
        }
        return isRetina;
    },
    getExtensionVersion: function () {
        return PropertyDAO.get(PropertyDAO.PROP_EXTENSION_VERSION);
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnJvd3NlckhlbHBlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2JhY2tncm91bmQvY29yZS9oZWxwZXJzL2Jyb3dzZXJIZWxwZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFNSCxJQUFJLGFBQWEsR0FBRztJQUNsQixpQkFBaUIsRUFBRSxJQUFJO0lBS3ZCLGlCQUFpQixFQUFFO1FBQ2pCLElBQUksQ0FBQztZQUNILE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDOUMsQ0FBQztRQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDWCxJQUFJLENBQUM7Z0JBQ0gsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQztZQUNuRCxDQUFDO1lBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDWCxNQUFNLENBQUMsSUFBSSxDQUFDO1lBQ2QsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBRUQsY0FBYyxFQUFFO1FBQ2QsSUFBSSxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7UUFDMUIsSUFBSSxNQUFNLEdBQUc7WUFDWCw2QkFBNkIsRUFBRSxLQUFLO1lBQ3BDLDJCQUEyQixFQUFFLE9BQU87WUFDcEMsZ0NBQWdDLEVBQUUsS0FBSztZQUN2Qyx3QkFBd0IsRUFBRSxLQUFLO1lBQy9CLGdCQUFnQixFQUFFLFNBQVM7U0FDNUIsQ0FBQztRQUVGLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFVBQVMsS0FBSyxFQUFFLEdBQUc7WUFDaEMsSUFBSSxLQUFLLEdBQUcsbUJBQW1CLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDO1lBQzFELGdCQUFnQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMvQixDQUFDLENBQUMsQ0FBQztRQUNILE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQVFELGVBQWUsRUFBRTtRQUNmLElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQztRQUVyQixFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNoQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLENBQUM7UUFFRCxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztZQUN0QixJQUFJLEVBQUUsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDO1lBQ2xELEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNqQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1lBQ2xCLENBQUM7WUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUM1QixRQUFRLEdBQUcsSUFBSSxDQUFDO1lBQ2xCLENBQUM7UUFDSCxDQUFDO1FBRUQsTUFBTSxDQUFDLFFBQVEsQ0FBQztJQUNsQixDQUFDO0lBRUQsbUJBQW1CLEVBQUU7UUFDbkIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDN0QsQ0FBQztDQUNGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIENvcHlyaWdodCAoQykgMjAwNy0yMDE1IGVCYXkgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICovXG5cbi8qKlxuICogQnJvd3NlciBIZWxwZXIuXG4gKiBIYW5kbGVzIGFsbCBicm93c2VyIHNwZWNpZmljIGNhbGxzLlxuICovXG52YXIgQnJvd3NlckhlbHBlciA9IHtcbiAgX2JhY2tncm91bmRPYmplY3Q6IG51bGwsXG5cbiAgLyoqXG4gICAqIEdldHMgYmFja2dyb3VuZCBwcm9jZXNzIG9yIHBhZ2UuXG4gICAqL1xuICBnZXRCYWNrZ3JvdW5kUGFnZTogZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBjaHJvbWUuZXh0ZW5zaW9uLmdldEJhY2tncm91bmRQYWdlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHNhZmFyaS5leHRlbnNpb24uZ2xvYmFsUGFnZS5jb250ZW50V2luZG93O1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgX2dldE1lZGlhQ2hlY2s6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtYXRjaE1lZGlhQ2hlY2tzID0gW107XG4gICAgdmFyIGNoZWNrcyA9IHtcbiAgICAgIFwibWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvXCI6IFwiMS4zXCIsXG4gICAgICBcIi1vLW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW9cIjogXCIyLjYvMlwiLFxuICAgICAgXCItd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW9cIjogXCIxLjNcIixcbiAgICAgIFwibWluLWRldmljZS1waXhlbC1yYXRpb1wiOiBcIjEuM1wiLFxuICAgICAgXCJtaW4tcmVzb2x1dGlvblwiOiBcIjEuM2RwcHhcIlxuICAgIH07XG5cbiAgICBfLmVhY2goY2hlY2tzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICB2YXIgY2hlY2sgPSBcIm9ubHkgc2NyZWVuIGFuZCAoXCIgKyBrZXkgKyBcIjpcIiArIHZhbHVlICsgXCIpXCI7XG4gICAgICBtYXRjaE1lZGlhQ2hlY2tzLnB1c2goY2hlY2spO1xuICAgIH0pO1xuICAgIHJldHVybiBtYXRjaE1lZGlhQ2hlY2tzLmpvaW4oXCIsIFwiKTtcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgZGV2aWNlIGlzIHJldGluYSBkaXNwbGF5LiBXZSB3b3VsZCBjaGVjayB0aGlzIGV2ZXJ5IHRpbWUgdGhlXG4gICAqIHVzZXIgb3BlbnMgdGhlIHBvcCB1cCwgYmVjYXVzZSB0aGUgdXNlciBjb3VsZCBoYXZlIENocm9tZSBvcGVuIGluIGFuXG4gICAqIGV4dGVybmFsIG1vbml0b3IgZXZlbiBpZiBoaXMgZGV2aWNlIGlzIHJldGluYSBkaXNwbGF5LlxuICAgKiBAcmV0dXJucyBib29sZWFuOiB0cnVlIGlmIHRoZSBkZXZpY2UgaXMgcmV0aW5hIGRpc3BsYXksIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGlzUmV0aW5hRGlzcGxheTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlzUmV0aW5hID0gZmFsc2U7XG5cbiAgICBpZiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gPiAyKSB7XG4gICAgICBpc1JldGluYSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKSB7XG4gICAgICB2YXIgbXEgPSB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLl9nZXRNZWRpYUNoZWNrKCkpO1xuICAgICAgaWYgKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvbiA+IDEpIHtcbiAgICAgICAgaXNSZXRpbmEgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChtcSAmJiBtcS5tYXRjaGVzKSB7XG4gICAgICAgIGlzUmV0aW5hID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaXNSZXRpbmE7XG4gIH0sXG5cbiAgZ2V0RXh0ZW5zaW9uVmVyc2lvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFByb3BlcnR5REFPLmdldChQcm9wZXJ0eURBTy5QUk9QX0VYVEVOU0lPTl9WRVJTSU9OKTtcbiAgfVxufTtcbiJdfQ==